!function(e){e.caretTo=function(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else null!=e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))},e.caretPos=function(e){if("selection"in document){var t=e.createTextRange();try{t.setEndPoint("EndToStart",document.selection.createRange())}catch(n){return 0}return t.text.length}return null!=e.selectionStart?e.selectionStart:void 0},e.fn.caret=function(t,n){return"undefined"==typeof t?e.caretPos(this.get(0)):this.queue(function(r){if(isNaN(t)){var c=e(this).val().indexOf(t);n===!0?c+=t.length:"undefined"!=typeof n&&(c+=n),e.caretTo(this,c)}else e.caretTo(this,t);r()})},e.fn.caretToStart=function(){return this.caret(0)},e.fn.caretToEnd=function(){return this.queue(function(t){e.caretTo(this,e(this).val().length),t()})}}(jQuery);